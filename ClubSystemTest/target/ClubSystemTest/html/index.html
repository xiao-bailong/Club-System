<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="../font/iconfont.css"/>
	<link rel="stylesheet" href="../css/framework.css"/>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="../css/reset.css"> <!-- CSS reset -->
	<link rel="stylesheet" href="../css/style.css"> <!-- Resource style -->
	<link rel="stylesheet" href="../css/index.css">
	<style>
		*{
			margin: 0 ;
			padding: 0;
			list-style: none;
		}
		html{
			height: 100%;
			width: 100%;
		}
		body{
			width: 100%;
			height: 100%;
			background: #4F4F4F;
			min-width: 530px;
			/* 可以往上调，根据需求改，最小555px */
			min-height: 700px;
		}
		/*		main*/
		.main{
			width: 1189px;
			display:block;
			left: 160px;
			height: 750px;
			margin: 0 auto;
		}
		
	</style>
    <title>首页</title>
</head>
<body>
	 <!-- 头部 -->
	<div class="header">
		<div class="portrait">
			<span class="iconfont icon-touxiang-kong" style="display: block; color: #fff;text-align: center; width: 100%;height: 70%; font-size: 55px; float: left;"></span>
			<p class="header-username">username</p>
		</div>
		<div class="header-title">
			<p class="title-content">社团管理系统</p>
		</div>
		<div class="header-right">
			<div class="right-logout">
				<div id="logout" class="logout-content">
					<p class="font-logout">退出</p>
					<span class="iconfont icon-dengchu" style=" width: 47px; float:right; font-size: 30px; padding-top: 3px;padding-bottom: 4px;color: #fff;"></span>
				</div>
			</div>
		</div>
	</div>
	<!-- 内容 -->
	<div class="content">
		<!-- 左侧导航 -->
		<div class="nav">
			<ul class="nav-ul">
				<li id="jump-index" class="jump">首页</li>
				<li id="jump-clubApproval" class="jump">社团申请审批</li>
				<li id="jump-clubManager" class="jump">社团管理</li>
				<li id="jump-userManager" class="jump">用户管理</li>
			</ul>
		</div>
		<!-- 主体内容 -->
		<div class="main-out" id="main">
			<!--	主体内容-->
	<div class="main">
		<!--		进度-->
				<div class="progress">
					<ul class="progess-ul">
		<!--				本月签到天数-->
						<li class="progress-clockIn">
							<span class="iconfont icon-naozhong" style="font-size: 35px; margin-left: 40px; color: #FFFFFF; position: relative;top: 37px; padding: 18px; background: #FDA423; border-radius: 50%"></span>
							<p style="font-weight: bold; font-size: 18px; color: #fff; margin-left: 127px; margin-top: -17px;">用户数量</p>
							<p style="font-weight: bold; font-size: 33px; color: #54E4E7; width: 72px; text-align: center; margin-left: 127px; margin-top: 3px">{{user}}</p>
						</li>
						<!--				剩余任务数量-->
						<li class="progress-task">
							<span class="iconfont icon-renwu" style="font-size: 35px; margin-left: 40px; color: #FFFFFF; position: relative;top: 37px; padding: 18px; background: #4372E0; border-radius: 50%;"></span>
							<p style="font-weight: bold; font-size: 18px; color: #fff; margin-left: 127px; margin-top: -17px;">社团数量</p>
							<p style="font-weight: bold; font-size: 33px; color: #54E4E7; width: 72px; text-align: center; margin-left: 127px; margin-top: 3px">{{club2}}</p>
						</li>
						<!--				申请进度-->
						<li class="progress-apply">
							<span class="iconfont icon-lianjie" style="font-size: 35px; margin-left: 40px; color: #FFFFFF; position: relative;top: 37px; padding: 18px; background: #4EED88; border-radius: 50%"></span>
							<p style="font-weight: bold; font-size: 18px; color: #fff; margin-left: 127px; margin-top: -17px;">活动数</p>
							<p style="font-weight: bold; font-size: 33px; color: #54E4E7; width: 72px; text-align: center; margin-left: 127px; margin-top: 3px">{{activity}}</p>
						</li>
						<!--				今日资源-->
						<li class="progress-resources">
							<span class="iconfont icon-kucun" style="font-size: 35px; margin-left: 40px; color: #FFFFFF; position: relative;top: 37px; padding: 18px; background: #C34EF0; border-radius: 50%"></span>
							<p style="font-weight: bold; font-size: 18px; color: #fff; margin-left: 127px; margin-top: -17px;">待审批社团数</p>
							<p style="font-weight: bold; font-size: 33px; color: #54E4E7; width: 72px; text-align: center; margin-left: 127px; margin-top: 3px">{{club1}}</p>
						</li>
					</ul>
				</div>
				<div class="line2" style="width: 85%; height: 220px; margin: 0 auto; margin-top: 50px;">
			<!--		打卡-->
					<div class="clockIn">
			<!--			时钟-->
						<div class='face'>
							<div class='hour-hand'></div>
							<div class='minute-hand'></div>
							<div class='seconds-hand'></div>
							<div class='center'></div>
						</div>
					</div>
			<!--		资金申请表单-->
					<div class="applyForFunding">
						<div style="color: #fff; font-weight: bold; font-size: 60px; margin-bottom: 10px; text-align: center; padding-top: 60px;">管理员管理界面</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
<script src="../js/jquery-3.4.1.js"></script>
<!--<script src="../js/header.js" type="text/javascript"></script>-->
<script src="../js/main.js"></script> <!-- Resource jQuery -->
<script src="../js/modernizr.js"></script> <!-- Modernizr -->
<script type="text/javascript" src="../js/plugin.js"></script>
<script type="text/javascript" src="../js/jump.js"></script>
<script src="../js/vue.min.js" type="text/javascript"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
<script type="text/javascript">
	var app = new Vue({
		el: '#main',
		data: {
			user:'',
			club1:'',
			club2:'',
			activity:''
		},
		mounted() {
			var that = this;
			axios.post('/ClubSystemTest_war_exploded/user/statistics',{}).then(function (response) {
				console.log(response);
				that.user = response.data[0];
				that.club2 = response.data[1];
				that.activity = response.data[2];
				that.club1 = response.data[3];
			}).catch(function (error) {
				console.log(error);
			});
		},
	})
	// console.log(JSON.parse(sessionStorage.getItem("curUser")).username);
	window.onload = function() {
		// $('.header .portrait .header-username').val(JSON.parse(sessionStorage.getItem("curUser")).username);
		// $('.header .portrait .header-username').attr('value',JSON.parse(sessionStorage.getItem("curUser")).username);
		$('.header .portrait .header-username').text(JSON.parse(sessionStorage.getItem("curUser")).username);
	};

//	clock
	$(document).ready(function() {
    $('body').append('<div class="time">');

    Number.prototype.map = function(in_min, in_max, out_min, out_max) {
        return (this - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
    }

    function rotate(element, degrees) {
        element.css({
            '-webkit-transform': 'rotate(' + degrees + 'deg)',
            '-moz-transform': 'rotate(' + degrees + 'deg)',
            '-ms-transform': 'rotate(' + degrees + 'deg)',
            'transform': 'rotate(' + degrees + 'deg)'
        });
    }

    function setTime() {
        var date = new Date();
        var mil = date.getMilliseconds();
        var sec = date.getSeconds();
        var min = date.getMinutes();
        var hrs = date.getHours();

		var mapSec = sec.map(0, 60, 0, 360);
		var mapMin = min.map(0, 60, 0, 360);
		var mapHrs = hrs.map(0, 12, 0, 360);

        if (sec == 0) {
            $('.seconds-hand').removeClass('smooth');
        } else {
            $('.seconds-hand').addClass('smooth');
        }

        if (min == 0) {
            $('.minute-hand').removeClass('smooth');
        } else {
            $('.minute-hand').addClass('smooth');
        }

        if (hrs == 0) {
            $('.hour-hand').removeClass('smooth');
        } else {
            $('.hour-hand').addClass('smooth');
        }

        rotate($('.seconds-hand'), mapSec);
        rotate($('.minute-hand'), mapMin);
        rotate($('.hour-hand'), mapHrs);
    }

    setInterval(function() {
        setTime()
    }, 1);
});

</script>